<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <base href="/presentations/slides/play-typescript-base/" />
    <title>玩转 TypeScript：基础篇</title>
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../../reveal.js/css/reveal.css" />
    <link rel="stylesheet" href="../../reveal.js/css/theme/blood.css" id="theme" />
    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="../../reveal.js/lib/css/zenburn.css" />
    <link rel="stylesheet" href="../../app/css/common.css" />
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <!-- section1 个人介绍 -->
        <section class="section1">
          <section>
            <h2 class="nf no-transform text-right">
              玩转 TypeScript：基础篇
              <br />
              <br />
            </h2>
            <p class="text-right">CDEC - Jay</p>
            <!-- <p>
              胡敏&nbsp;
              <a
                href="http://nesc.newegg.com.cn/"
                target="_blank">
                @新蛋科技
              </a>
            </p> -->
          </section>
          <!-- <section>
            <h2 class="ms-font">About me</h2>
            <ul>
              <li class="fragment">
                Github：
                <a
                  href="https://github.com/hstarorg"
                  target="_blank">
                  hstarorg
                </a>
              </li>
              <li class="fragment">
                博客园：
                <a
                  href="http://www.cnblogs.com/humin/"
                  target="_blank">
                  幻天芒
                </a>
              </li>
              <li class="fragment">
                邮&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;箱：
                <a href="mailto:hm910705@163.com">hm910705@163.com</a>
              </li>
              <li class="fragment">
                Q&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q：
                <a href="javascript:;">1028332273</a>
              </li>
              <li class="fragment">
                微&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;信：
                <a href="javascript:;">hm910705</a>
              </li>
            </ul>
          </section> -->
        </section>
        <!-- section2 大纲 -->
        <section class="section2">
          <section>
            <h2 class="nf">Agenda</h2>
            <ul>
              <li class="fragment">浅析静态类型（检查）</li>
              <li class="fragment">TypeScript 前世今生</li>
              <li class="fragment">使用 TypeScript</li>
              <li class="fragment">玩转 TypeScript 类型</li>
            </ul>
          </section>
        </section>
        <!-- section3 浅析静态类型-->
        <section class="section3">
          <section>
            <h2 class="nf no-transform">浅析静态类型（检查）</h2>
          </section>
          <section>
            <h3>何为静态类型（检查）？</h3>
            <p class="fragment">弱类型 VS. 强类型</p>
            <p class="fragment">静态类型检查 VS. 动态类型检查</p>
            <p class="fragment text-left">
              个人理解：<strong>
                静态类型检查就是在编译期间就能检查到具体的类型；弱类型则是偏向于容忍隐式类型转换
              </strong>
            </p>
            <p class="fragment text-left">
              更多讨论，请参考：<a href="https://www.zhihu.com/question/19918532" target="_blank">知乎讨论</a>
            </p>
          </section>
          <section>
            <h3>静态类型检查的优势</h3>
            <ul>
              <li class="fragment">类型检查，规避隐式类型转换、书写错误问题</li>
              <li class="fragment">代码自动完成（补全），提高开发效率</li>
              <li class="fragment">重构相对更容易</li>
              <li class="fragment">代码健壮性更好</li>
            </ul>
          </section>
          <section>
            <h3>静态类型检查的劣势</h3>
            <ul>
              <li class="fragment">约束较多，不够灵活</li>
              <li class="fragment">需要额外的一些类型定义，影响开发效率</li>
              <li class="fragment">需要编译，有时候编译时间较长</li>
            </ul>
          </section>
          <section>
            <h3>JavaScript：动态、弱类型</h3>
            <ul>
              <li class="fragment">大量的隐式转换</li>
              <li class="fragment">缺少类型检查，导致较容易出现拼写错误</li>
              <li class="fragment">灵活 VS. 健壮性</li>
              <li class="fragment">
                动态一时爽、重构火葬场<span class="fragment text-danger">（一直动态一直爽？）</span>
              </li>
            </ul>
            <p class="fragment text-danger">有没有可能，为 JavaScript 插上类型的翅膀？</p>
          </section>
        </section>
        <!-- section4 TypeScript 前世今生 -->
        <section class="section4">
          <section>
            <h2 class="nf no-transform">TypeScript 前世今生</h2>
          </section>
          <section>
            <h3>缘起</h3>
            <ul>
              <li class="fragment">
                ES6 以前，JavaScript 虽强大灵活但不够简洁
                <br />
                <span class="fragment">JavaScript 转译语言应运而生：<span class="text-danger">CoffeeScript</span></span>
              </li>
              <li class="fragment">
                随着前端的发展，JavaScript 应用越来越大，JavaScript 语言本身的短板日渐凸显
                <br />
                <span class="fragment"> Google：<span class="text-danger">Dart（因 Flutter 重获新生）</span> </span>
                <br />
                <span class="fragment"> Facebook：<span class="text-danger">Flow</span> </span>
                <br />
                <span class="fragment"> Microsoft：<span class="text-danger">TypeScript</span> </span>
              </li>
            </ul>
          </section>
          <section>
            <h3>今生</h3>
            <ul>
              <li class="fragment">TypeScript 是一种由微软主导开发的开源编程<span class="text-danger">语言</span></li>
              <li class="fragment">TypeScript 设计目标是开发大型应用</li>
              <li class="fragment">
                TypeScript 是 JavaScript 的严格超集（兼容 JavaScript）
              </li>
              <li class="fragment">TypeScript 是一种给 JavaScript 添加特性的语言扩展</li>
              <li class="fragment">TypeScript 已成为大型应用的主流选择</li>
            </ul>
            <p class="fragment text-danger">那，如何使用 TypeScript 呢？</p>
          </section>
        </section>
        <!-- section5 使用 TypeScript -->
        <section class="section5">
          <section>
            <h2 class="nf no-transform">使用 TypeScript</h2>
          </section>
          <section>
            <h3 class="no-transform">Playgroud</h3>
            <p class="fragment">
              最便捷的演练 TypeScript 的地方莫过于：<br />
              <a href="https://www.typescriptlang.org/play/index.html" target="_blank">TypeScript Playgroud</a>
            </p>
            <p class="fragment">当然，这种方式更多用于学习语法。</p>
          </section>
          <section>
            <h3 class="no-transform">TSC 命令编译</h3>
            <ol>
              <li class="fragment"><code>npm i typescript -g</code>全局安装 TypeScript</li>
              <p class="fragment">或者 <code>npm i typescript -D</code> 本地安装</p>
              <li class="fragment">编写你的第一个 TypeScript 文件：hello.ts</li>
              <li class="fragment"><code>tsc hello.ts</code> 编译 ts 文件</li>
            </ol>
          </section>
          <section>
            <h3 class="no-transform">Deno</h3>
            <p>Deno：<a href="https://github.com/denoland/deno" target="_blank">https://github.com/denoland/deno</a></p>
            <p class="fragment">A secure JavaScript/TypeScript runtime built with V8, Rust, and Tokio</p>
            <p class="fragment">Tokio：The asynchronous run-time for the Rust programming language.</p>
          </section>
          <section>
            <h4 class="no-transform">Deno Web Server</h4>
            <pre>
<code>import { listenAndServe } from '../deno_std/net/http.ts';

function uint8array2string(uint8Array: Uint8Array): string {
  return new TextDecoder().decode(uint8Array);
}

function string2uint8array(text: string): Uint8Array {
  return new TextEncoder().encode(text);
}

async function main() {
  await listenAndServe('0.0.0.0:9999', req => {
    console.log(req.url, req.method, req.headers, req.proto);
    req.respond({
      status: 200,
      headers: new Headers({ ContentType: 'application/json' }),
      body: string2uint8array(JSON.stringify({ hello: 'deno!' }))
    });
  });
}

main();
</code></pre>
          </section>
          <section>
            <h3 class="no-transform">With @babel/preset-typescript Or ts-loader</h3>
            <ul>
              <li class="fragment">
                @babel/preset-typescript：<a href="https://babeljs.io/docs/en/babel-preset-typescript" target="_blank"
                  >https://babeljs.io/docs/en/babel-preset-typescript</a
                >
              </li>
              <li class="fragment">
                ts-loader：<a href="https://github.com/TypeStrong/ts-loader" target="_blank"
                  >https://github.com/TypeStrong/ts-loader</a
                >
              </li>
              <li class="fragment">
                awesome-typescript-loader：<a
                  href="https://github.com/s-panferov/awesome-typescript-loader"
                  target="_blank"
                  >https://github.com/s-panferov/awesome-typescript-loader</a
                >
              </li>
            </ul>
          </section>
        </section>
        <!-- section6 玩转 TypeScript 类型 -->
        <section class="section6">
          <section>
            <h2 class="nf no-transform">玩转 TypeScript 类型</h2>
          </section>
          <section>
            <h3 class="no-transform">JavaScript 基本数据类型？</h3>
            <ul>
              <li class="fragment">undefined</li>
              <li class="fragment">null</li>
              <li class="fragment">boolean(Boolean)</li>
              <li class="fragment">number(Number)</li>
              <li class="fragment">string(String)</li>
              <li class="fragment">symbol(Symbol)</li>
            </ul>
          </section>
          <section>
            <h3 class="no-transform">TypeScript 基本类型</h3>
            <ul>
              <li class="fragment">All javaScript 基本数据类型</li>
              <li class="fragment">Array：Array<T&gt; | T[]</li>
              <li class="fragment">Tuple（元组）</li>
              <li class="fragment">enum（枚举）</li>
              <li class="fragment">void（null or undefined）</li>
              <li class="fragment">never（永不存在值）</li>
              <li class="fragment">any（万能，任意类型）</li>
            </ul>
          </section>
          <section>
            <h3 class="no-transform">TypeScript 接口类型</h3>
          </section>
          <section>
            <h4 class="no-transform">通过 interface 定义复杂类型</h4>
            <pre><code>
  interface IPerson {
    age?: number; // 可选属性
    readonly name: string; // 只读属性
    [idx: number]: string; // 索引类型（模拟字典）
  }

  class Person implements IPerson {
    [idx: number]: string;
    age?: number;
    name: string;
  }

</code></pre>
          </section>
          <section>
            <h4 class="no-transform">通过 interface 定义函数类型</h4>
            <pre><code>
  interface IFunc {
    (n1: number, n2: number): number;
  }

  const add: IFunc = function(n1, n2) {
    // 有了类型约束后，会自动进行类型推断
    return n1 + n2;
  };

</code></pre>
          </section>
          <section>
            <h4 class="no-transform">通过 interface 定义混合类型</h4>
            <pre><code>
  interface IFunc2 {
    (n1: number, n2: number): number;
    displayName: string;
  }

  const add2: IFunc2 = function(n1, n2) {
    // 有了类型约束后，会自动进行类型推断
    return n1 + n2;
  };
  add2.displayName = 'add2'; // 如果没有这句，会怎样？

</code></pre>
          </section>
          <section>
            <h4 class="no-transform">类类型：静态部分 VS. 实例部分</h4>
            <pre><code>
  interface PersonInterface {
    name: string;
    age?: number;
    sleep: (hour: number) => string;
  }

  interface PersonCtor {
    // 定义构造
    new (name: string, age?: number): PersonInterface;
  }

  class PersonIns implements PersonInterface {
    sleep: (hour: number) => string;
    name: string;
  }

  function createPerson(ctor: PersonCtor, name: string): PersonInterface {
    return new ctor(name);
  }

  createPerson(PersonIns, 'hi');

</code></pre>
          </section>
          <section>
            <h4 class="no-transform">问答：如下代码是否可以通过类型校验？</h4>
            <pre><code>
  function fun1(a: { a: number }) {}

  fun1({ a: 1, b: 2 });

</code></pre>
          </section>
          <section>
            <h3 class="no-transform">TypeScript 类类型</h3>
            <ul>
              <li class="fragment">属性修饰符（作用域）</li>
              <li class="fragment">属性修饰符（只读、静态）</li>
              <li class="fragment">Getter and Setter</li>
              <li class="fragment">抽象类</li>
              <li class="fragment">类作为接口使用</li>
            </ul>
            <p class="fragment text-danger">Demo演示</p>
          </section>
          <section>
            <h3 class="no-transform">TypeScript 高级类型</h3>
            <ul>
              <li class="fragment">交叉类型（多个类型取并集）</li>
              <li class="fragment">联合类型（多个类型选其一）</li>
              <li class="fragment">类型别名</li>
              <li class="fragment">类型别名 VS. Interface</li>
            </ul>
            <p class="fragment text-danger">Demo演示</p>
          </section>
          <section>
            <h3>类型图谱</h3>
            <img src="images/ts-type.png" alt="" />
          </section>
        </section>
        <!-- section7 Discus -->
        <section class="section7">
          <section>
            <h2 class="nf">
              Q? A!
            </h2>
          </section>
        </section>
        <!-- section8 Thanks -->
        <section class="section8">
          <section>
            <h2 class="nf">Thanks!</h2>
          </section>
        </section>
      </div>
    </div>
    <script src="../../reveal.js/lib/js/head.min.js"></script>
    <script src="../../reveal.js/js/reveal.js"></script>
    <script src="index.js"></script>
  </body>
</html>
